{"version":15,"variables":[],"tiles":{"3":{"type":"data","title":"Top 10 regular flights in the sky","query":"fetch logs, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| fields timestamp, aircraft.flight\n| filterOut aircraft.flight == \"@\\\".I 5CS\"\n| summarize count(), by:{bin(timestamp,1d),aircraft.flight}\n| fields `bin(timestamp, 1d)`,aircraft.flight\n| fields aircraft.flight\n| summarize count(), by:{aircraft.flight}\n| sort `count()` asc\n| limit 10\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"aircraft.flight","categoryAxisLabel":"aircraft.flight","valueAxis":"count()","valueAxisLabel":"count()"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"aircraft.flight","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.flight"},"legend":"auto","displayedFields":["aircraft.flight"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"4":{"type":"data","title":"Total Unique Flights Tracked(ever)","query":"fetch logs, from:now() - 365d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| fields timestamp, aircraft.flight\n| summarize count(), by:{bin(timestamp,1d),aircraft.flight}\n| fields `bin(timestamp, 1d)`,aircraft.flight\n| fields aircraft.flight\n| summarize count(), by:{aircraft.flight}\n| sort `count()` desc\n| fields aircraft.flight\n| summarize count()\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"AirplaneFilledIcon","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"count()"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"unitsOverrides":[{"identifier":"count()","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"5":{"type":"data","title":"Data Stream from ADS-B Ground Station","query":"timeseries `ADS-B incoming data`=sum(log.aircraft.dump1090.occurence)\n| sort arrayAvg(`ADS-B incoming data`) desc\n","davis":{"enabled":false,"componentState":{"selectedAnalyzerName":"dt.statistics.ui.ForecastAnalyzer","inputData":{"dt.statistics.ui.ForecastAnalyzer":{"generalParameters":{"timeframe":{"startTime":"2024-02-15T22:40:18.556Z","endTime":"2024-02-15T23:10:18.556Z"},"resolveDimensionalQueryData":true,"logVerbosity":"INFO"},"forecastHorizon":100,"query":{"expression":"timeseries `ADS-B incoming data`=sum(log.aircraft.dump1090.occurence)\n| sort arrayAvg(`ADS-B incoming data`) desc\n"}}}},"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[{"id":"0","title":"","field":"occurence","rules":[{"id":"0","label":"","comparator":"≥","color":"#7dc540","value":0.5},{"id":"1","label":"","comparator":"≥","color":"#f5d30f"},{"id":"2","label":"","comparator":"<","color":"#dc172a","value":0.5}],"isEnabled":true}],"chartSettings":{"seriesOverrides":[],"gapPolicy":"gap","legend":{"hidden":false},"leftYAxisSettings":{"label":""},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ADS-B incoming data"],"leftAxisDimensions":[],"fields":[],"values":[]},"categoricalBarChartSettings":{},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"interval"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"unitsOverrides":[{"identifier":null,"unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1708038692295}],"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"6":{"type":"data","title":"Air Craft with the highest altitude","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n| filterOut aircraft.altitude > 70000\n\n| fields aircraft.flight, aircraft.altitude\n| sort aircraft.altitude desc\n| limit 1\n| fields aircraft.flight","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"aircraft.flight","valueAxisLabel":"aircraft.altitude"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"AirplaneIcon","recordField":"aircraft.flight","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.flight"},"displayedFields":["aircraft.flight"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"unitsOverrides":[{"identifier":"count()","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":" Flights Tracked","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"7":{"type":"data","title":"Altitude of the aircraft ","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.process.name, \"dump1090-mutability\") // Filter logs from the decoder\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n| filterOut aircraft.altitude > 70000\n| fields aircraft.flight, aircraft.altitude\n| sort aircraft.altitude desc\n| limit 1\n| fields aircraft.altitude","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"aircraft.flight","valueAxisLabel":"aircraft.altitude"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"HistogramIcon","recordField":"aircraft.altitude","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.altitude"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"unitsOverrides":[{"identifier":"aircraft.altitude","unitCategory":"length","baseUnit":"foot","displayUnit":"foot","decimals":0,"suffix":"","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[{"valueAxis":"aircraft.altitude","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"8":{"type":"data","title":"Air Craft with the lowest altitude","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude < -1\n| filterOut aircraft.altitude == \"ground\"\n| filterOut aircraft.altitude < 200\n| fields aircraft.flight, aircraft.altitude\n| sort aircraft.altitude asc\n| limit 1\n| fields aircraft.flight","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"aircraft.flight","valueAxisLabel":"aircraft.altitude"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"AirplaneFilledIcon","recordField":"aircraft.flight","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.flight"},"displayedFields":["aircraft.flight"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"unitsOverrides":[{"identifier":"count()","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":" Flights Tracked","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"9":{"type":"data","title":"Altitude of the aircraft ","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude < -1\n| filterOut aircraft.altitude == \"ground\"\n| filterOut aircraft.altitude < 200\n| fields aircraft.flight, aircraft.altitude\n| sort aircraft.altitude asc\n| limit 1\n| fields aircraft.altitude\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"aircraft.flight","valueAxisLabel":"aircraft.altitude"}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"HistogramIcon","recordField":"aircraft.altitude","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.altitude"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"unitsOverrides":[{"identifier":"aircraft.altitude","unitCategory":"length","baseUnit":"foot","displayUnit":"foot","decimals":0,"suffix":"","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[{"valueAxis":"aircraft.altitude","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"10":{"type":"data","title":"Top Police Helicopters near me","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| sort timestamp desc\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filterOut aircraft.hex == \"000000\"\n| fields timestamp, aircraft.hex, aircraft.squawk, aircraft.flight, aircraft.lat,aircraft.lon,aircraft.nucp, aircraft.seen_pos, aircraft.altitude, aircraft.vert_rate, aircraft.track,aircraft.speed,aircraft.category, aircraft.mlat,aircraft.tisb, aircraft.messages, aircraft.seen,aircraft.rssi\n\n| filter matchesPhrase (aircraft.flight,\"POL*\")\n| summarize count = count(), by:{aircraft.flight}\n/*| summarize count(), by:{`times`= bin(timestamp,24h)}\n| fields times\n| summarize count()\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"pieChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative","hideLabels":false},"categoryOverrides":{"POL30   ":{"color":"var(--dt-colors-charts-categorical-color-08-default, #8b6ecf)","added":1711420157626}},"categoricalBarChartSettings":{"categoryAxis":"aircraft.flight","categoryAxisLabel":"aircraft.flight","valueAxis":"count","valueAxisLabel":"count"},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"aircraft.flight","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.flight"},"displayedFields":["aircraft.flight"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"count","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"11":{"type":"data","title":"","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(log.file.name, \"aircraft.json\")\n| filter matchesValue(dt.auth.origin, \"dt0c01.YUIXMGS3G3ZB2PIX77G6XRKY\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n| fields aircraft.flight, timestamp\n| sort timestamp desc\n| fields `last aircraft` = aircraft.flight, `Last seen (mins) `=now()-timestamp\n| limit 1","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"last aircraft","valueAxisLabel":"Last seen (mins) ","categoryAxis":"last aircraft","valueAxis":"Last seen (mins) "}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ClockIcon","recordField":"Last seen (mins) ","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"last aircraft"},"displayedFields":["last aircraft"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"unitsOverrides":[{"identifier":"Last seen (mins) ","unitCategory":"time","baseUnit":"nanosecond","displayUnit":"minute","decimals":1,"suffix":"","delimiter":false,"added":1708512751601}],"histogram":{"dataMappings":[{"valueAxis":"Last seen (mins) ","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"12":{"type":"data","title":"","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(log.file.name, \"aircraft.json\")\n| filter matchesValue(dt.auth.origin, \"dt0c01.YUIXMGS3G3ZB2PIX77G6XRKY\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n|fields aircraft.flight, timestamp\n| sort timestamp desc\n| fields `Last aircraft code` = aircraft.flight, `last seen`=now()-timestamp\n| limit 1","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"Last aircraft code","valueAxisLabel":"last seen","categoryAxis":"Last aircraft code","valueAxis":"last seen"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"AirplaneIcon","recordField":"Last aircraft code","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"Last aircraft code"},"displayedFields":["Last aircraft code"],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"last seen","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"14":{"type":"data","title":"","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.category)\n| fields aircraft.flight, aircraft.category\n| sort aircraft.category desc\n| fields aircraft.category\n\n | fieldsAdd aircraft.type = if(matchesValue(aircraft.category,\"A1\"), \"light\", \n else:if(matchesValue(aircraft.category,\"A2\"), \"medium\", \n else:if(matchesValue(aircraft.category,\"A3\"), \"medium\", \n  else:if(matchesValue(aircraft.category,\"A0\"), \"heavy\", \n else:if(matchesValue(aircraft.category,\"A5\"), \"heavy\", \n else:if(matchesValue(aircraft.category,\"B4\"), \"small\", \n else:if(matchesValue(aircraft.category,\"A7\"), \"rotorcraft\")))))))\n | summarize count(), by:{aircraft.type}\n\n/*‘A1’ : ‘light’,\n‘A2’ : ‘medium’,\n‘A3’ : ‘medium’,\n‘A5’ : ‘heavy’,\n‘A7’ : ‘rotorcraft’\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"aircraft.type","valueAxis":"count()","categoryAxisLabel":"aircraft.type","valueAxisLabel":"count()"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"aircraft.category","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.type"},"legend":"auto","displayedFields":["aircraft.type"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"17":{"type":"data","title":"Flight Count","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n| fields aircraft.flight, timestamp\n| summarize no_of_flights = countDistinct(aircraft.flight), by:{bin(timestamp, 1h), alias:timestamp}\n| fields timestamp,`Flight Count` = no_of_flights\n\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"gap","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"aircraft.flight","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timestamp","leftAxisValues":["Flight Count"],"leftAxisDimensions":[]}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"Last aircraft was seen ","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"timestamp"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"categorical"},"unitsOverrides":[{"identifier":"Last aircraft was seen ","unitCategory":"time","baseUnit":"nanosecond","displayUnit":null,"decimals":1,"suffix":" mins ago","delimiter":false,"added":1708512751601}],"histogram":{"dataMappings":[{"valueAxis":"Flight Count","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"19":{"type":"data","title":"Total Unique Flights Tracked","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(dt.auth.origin, \"dt0c01.YUIXMGS3G3ZB2PIX77G6XRKY\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| fields timestamp, aircraft.flight\n| summarize count(), by:{bin(timestamp,1d),aircraft.flight}\n| fields `bin(timestamp, 1d)`,aircraft.flight\n| fields aircraft.flight\n| summarize count(), by:{aircraft.flight}\n| sort `count()` desc\n| fields aircraft.flight\n| summarize count()\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":false,"label":"","prefixIcon":"AirplaneFilledIcon","recordField":"count()","autoscale":true,"alignment":"center","colorThresholdTarget":"background"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"count()"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"unitsOverrides":[{"identifier":"count()","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":" ","delimiter":false,"added":1707729154588}],"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"26":{"type":"data","title":"Breakdown of Aircraft Categories","query":"fetch logs//, from:now() - 7d\n| filter matchesValue(dt.process.name, \"dump1090-mutability\") // Filter logs from the decoder\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.category)\n| fields aircraft.flight, aircraft.category\n| sort aircraft.category desc\n| fields aircraft.category\n\n | fieldsAdd aircraft.type = if(matchesValue(aircraft.category,\"A1\"), \"light\", \n else:if(matchesValue(aircraft.category,\"A2\"), \"medium\", \n else:if(matchesValue(aircraft.category,\"A3\"), \"medium\", \n  else:if(matchesValue(aircraft.category,\"A0\"), \"heavy\", \n else:if(matchesValue(aircraft.category,\"A5\"), \"heavy\", \n else:if(matchesValue(aircraft.category,\"B4\"), \"small\", \n else:if(matchesValue(aircraft.category,\"A7\"), \"rotorcraft\")))))))\n | summarize count(), by:{aircraft.type}\n\n/*‘A1’ : ‘light’,\n‘A2’ : ‘medium’,\n‘A3’ : ‘medium’,\n‘A5’ : ‘heavy’,\n‘A7’ : ‘rotorcraft’\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"number-of-slices","groupingThresholdValue":0,"valueType":"relative","hideLabels":false},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"aircraft.type","valueAxis":"count()","categoryAxisLabel":"aircraft.type","valueAxisLabel":"count()"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"aircraft.category","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"aircraft.type"},"legend":"auto","displayedFields":["aircraft.type"],"colorMode":"color-palette","colorPalette":"categorical"},"histogram":{"dataMappings":[{"valueAxis":"count()","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"28":{"type":"data","title":"Total flights tracked in the past 7 days","query":"fetch logs, from:now() - 7d\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n| fields aircraft.flight, timestamp\n| summarize no_of_flights = countDistinct(aircraft.flight), by:{bin(timestamp, 1d), alias:timestamp}\n| fields timeframe = timeframe(from:timestamp-1d, to:timestamp),no_of_flights = no_of_flights\n| fields timeframe, `TotalFlightsTracked`= no_of_flights\n\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"barChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"hiddenLegendFields":[],"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["TotalFlightsTracked"],"leftAxisDimensions":[]},"categoricalBarChartSettings":{}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"no_of_flights","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"honeycomb":{"shape":"hexagon","legend":"auto","dataMappings":{"value":"TotalFlightsTracked"},"displayedFields":[null],"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"TotalFlightsTracked","rangeAxis":""}]}},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":1,"defaultSamplingRatio":10,"enableSampling":false}},"31":{"type":"data","title":"","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(log.file.name, \"aircraft.json\")\n| filter matchesValue(log.source, \"opentelemetry-iot-dump1090-collector\") // Filter logs ingested from the opentelemetry collector for dump1090 from the IOT device\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n|fields aircraft.flight, timestamp, aircraft.lat, aircraft.lon\n| fieldsAdd mylat =-37.882720\n| fieldsAdd mylong =145.175580 \n\n// Convert the airport degrees lat/lon to Radians\n| fieldsAdd myLatRad = toDouble(degreeToRadian(mylat))\n| fieldsAdd myLongRad = toDouble(degreeToRadian(mylong))\n\n// Convert the aircraft's degrees lat/lon to Radians\n| fieldsAdd aircraft.lat2rad = toDouble(degreeToRadian(todouble(aircraft.lat)))\n| fieldsAdd aircraft.lon2rad = toDouble(degreeToRadian(todouble(aircraft.lon)))\n\n\n| fieldsAdd dLat = toDouble(aircraft.lat2rad - myLatRad)\n| fieldsAdd dLong = toDouble(aircraft.lon2rad - myLongRad)\n\n| fieldsAdd earthRadius = toDouble(6378137) // Earth's radius in meters\n\n// Haversine formula calculates the distance between two points on the Earth's surface given their latitude and longitude.\n\n| fieldsAdd a = sin(toDouble(dLat) / 2) * sin(toDouble(dLat) / 2) + cos(toDouble(myLatRad)) * cos(toDouble(aircraft.lat2rad)) * sin(toDouble(dLong)/2) * sin(toDouble(dLong) /2)\n| fieldsAdd C = 2 * atan2(sqrt(a), sqrt(1-a))\n| fieldsAdd distance = (earthRadius * C)/1000 // Divide by 1000 to convert from mts to kms\n| fields timestamp, aircraft.flight, distance\n| sort timestamp desc\n| limit 1\n| fields `Distance of the last seen aircraft` = distance ","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"Last aircraft code","valueAxisLabel":"last seen"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ChevronRightDoubleIcon","recordField":"Distance of the last seen aircraft","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"Distance of the last seen aircraft"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"Distance of the last seen aircraft","rangeAxis":""}]},"unitsOverrides":[{"identifier":"Distance of the last seen aircraft","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":2,"suffix":"km","delimiter":false,"added":1721872372580}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"32":{"type":"data","title":"","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(log.file.name, \"aircraft.json\")\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n|fields aircraft.flight, timestamp, aircraft.lat, aircraft.lon\n| fieldsAdd mylat =-37.882720\n| fieldsAdd mylong =145.175580 \n\n// Convert the airport degrees lat/lon to Radians\n| fieldsAdd myLatRad = toDouble(degreeToRadian(mylat))\n| fieldsAdd myLongRad = toDouble(degreeToRadian(mylong))\n\n// Convert the aircraft's degrees lat/lon to Radians\n| fieldsAdd aircraft.lat2rad = toDouble(degreeToRadian(todouble(aircraft.lat)))\n| fieldsAdd aircraft.lon2rad = toDouble(degreeToRadian(todouble(aircraft.lon)))\n\n\n| fieldsAdd dLat = toDouble(aircraft.lat2rad - myLatRad)\n| fieldsAdd dLong = toDouble(aircraft.lon2rad - myLongRad)\n\n| fieldsAdd earthRadius = toDouble(6378137) // Earth's radius in meters\n\n// Haversine formula calculates the distance between two points on the Earth's surface given their latitude and longitude.\n\n| fieldsAdd a = sin(toDouble(dLat) / 2) * sin(toDouble(dLat) / 2) + cos(toDouble(myLatRad)) * cos(toDouble(aircraft.lat2rad)) * sin(toDouble(dLong)/2) * sin(toDouble(dLong) /2)\n| fieldsAdd C = 2 * atan2(sqrt(a), sqrt(1-a))\n| fieldsAdd distance = (earthRadius * C)/1000 // Divide by 1000 to convert from mts to kms\n| fields `Max tracked distance` = distance\n| sort `Max tracked distance` desc\n| limit 1\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"Last aircraft code","valueAxisLabel":"last seen"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ChevronRightDoubleIcon","recordField":"Max tracked distance","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"Max tracked distance"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"Max tracked distance","rangeAxis":""}]},"unitsOverrides":[{"identifier":"Max tracked distance","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":1,"suffix":"km","delimiter":false,"added":1721872372580}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}},"33":{"type":"data","title":"","query":"fetch logs //, scanLimitGBytes: 500, samplingRatio: 1000\n| filter matchesValue(log.file.name, \"aircraft.json\")\n| filter matchesValue(dt.entity.host, \"HOST-FC5A0F78F769A3C3\")\n| parse content, \"JSON:json_content\"\n| fieldsAdd aircraft=json_content[aircraft]\n| expand aircraft\n| fieldsFlatten aircraft\n| filter isNotNull(aircraft.flight)\n| filter isNotNull(aircraft.altitude)\n| filterOut aircraft.altitude == \"ground\"\n|fields aircraft.flight, timestamp, aircraft.lat, aircraft.lon\n| fieldsAdd mylat =-37.882720\n| fieldsAdd mylong =145.175580 \n\n// Convert the airport degrees lat/lon to Radians\n| fieldsAdd myLatRad = toDouble(degreeToRadian(mylat))\n| fieldsAdd myLongRad = toDouble(degreeToRadian(mylong))\n\n// Convert the aircraft's degrees lat/lon to Radians\n| fieldsAdd aircraft.lat2rad = toDouble(degreeToRadian(todouble(aircraft.lat)))\n| fieldsAdd aircraft.lon2rad = toDouble(degreeToRadian(todouble(aircraft.lon)))\n\n\n| fieldsAdd dLat = toDouble(aircraft.lat2rad - myLatRad)\n| fieldsAdd dLong = toDouble(aircraft.lon2rad - myLongRad)\n\n| fieldsAdd earthRadius = toDouble(6378137) // Earth's radius in meters\n\n// Haversine formula calculates the distance between two points on the Earth's surface given their latitude and longitude.\n\n| fieldsAdd a = sin(toDouble(dLat) / 2) * sin(toDouble(dLat) / 2) + cos(toDouble(myLatRad)) * cos(toDouble(aircraft.lat2rad)) * sin(toDouble(dLong)/2) * sin(toDouble(dLong) /2)\n| fieldsAdd C = 2 * atan2(sqrt(a), sqrt(1-a))\n| fieldsAdd distance = (earthRadius * C)/1000 // Divide by 1000 to convert from mts to kms\n| fields `Min tracked distance` =distance\n| sort `Min tracked distance`  asc\n| limit 1\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxisLabel":"Last aircraft code","valueAxisLabel":"last seen"},"hiddenLegendFields":[]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"ChevronRightDoubleIcon","recordField":"Min tracked distance","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[["content"]],"columnWidths":{}},"honeycomb":{"shape":"square","dataMappings":{"value":"Min tracked distance"},"displayedFields":[null],"legend":{"hidden":false,"position":"auto"},"colorMode":"color-palette","colorPalette":"blue"},"histogram":{"dataMappings":[{"valueAxis":"Min tracked distance","rangeAxis":""}]},"unitsOverrides":[{"identifier":"Min tracked distance","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":1,"suffix":"km","delimiter":false,"added":1721872372580}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false}}},"layouts":{"3":{"x":5,"y":13,"w":8,"h":6},"4":{"x":0,"y":0,"w":4,"h":4},"5":{"x":0,"y":7,"w":5,"h":6},"6":{"x":0,"y":4,"w":5,"h":3},"7":{"x":5,"y":4,"w":6,"h":3},"8":{"x":11,"y":4,"w":5,"h":3},"9":{"x":16,"y":4,"w":4,"h":3},"10":{"x":13,"y":13,"w":7,"h":6},"11":{"x":8,"y":0,"w":4,"h":4},"12":{"x":12,"y":0,"w":4,"h":4},"14":{"x":0,"y":19,"w":10,"h":7},"17":{"x":13,"y":7,"w":7,"h":6},"19":{"x":4,"y":0,"w":4,"h":4},"26":{"x":0,"y":13,"w":5,"h":6},"28":{"x":5,"y":7,"w":8,"h":6},"31":{"x":16,"y":0,"w":4,"h":4},"32":{"x":10,"y":19,"w":10,"h":4},"33":{"x":10,"y":23,"w":10,"h":3}},"importedWithCode":false}